<UserControl
    x:Class="OpenHeroSelectGUI.Controls.AvailableRosters"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:controls="using:OpenHeroSelectGUI.Controls"
    mc:Ignorable="d">

    <Grid>
        <ListView x:Name="AvailableRostersList"
                  CanDragItems="True"
                  DoubleTapped="AvailableRosters_DoubleTapped"
                  DragItemsStarting="AvailableRosters_DragItemsStarting"
                  ItemsSource="{x:Bind Rosters}"
                  KeyboardAcceleratorPlacementMode="Hidden"
                  RightTapped="AvailableRosters_RightTapped"
                  SelectionMode="Single">
            <ListView.ItemContainerStyle>
                <Style TargetType="ListViewItem" BasedOn="{StaticResource DefaultListViewItemStyle}">
                    <Setter Property="ContextFlyout">
                        <Setter.Value>
                            <MenuFlyout>
                                <MenuFlyoutItem Icon="Add"    Text="New roster" Click="AvailableRoster_NewClick"/>
                                <MenuFlyoutItem Icon="Copy"   Text="Duplicate roster" Click="AvailableRoster_CopyClick"/>
                                <MenuFlyoutItem Icon="Delete" Text="Delete" Click="AvailableRoster_DeleteClick"/>
                                <MenuFlyoutItem Icon="Rename" Text="Rename" Click="AvailableRoster_RenameClick"/>
                            </MenuFlyout>
                        </Setter.Value>
                    </Setter>
                </Style>
            </ListView.ItemContainerStyle>
            <ListView.KeyboardAccelerators>
                <KeyboardAccelerator Key="Delete" Invoked="AvailableRoster_Delete" ScopeOwner="{x:Bind AvailableRostersList}"/>
            </ListView.KeyboardAccelerators>
        </ListView>
        <StackPanel Margin="-20 0 10 5" Spacing="2" VerticalAlignment="Bottom">
            <InfoBar x:Name="DeleteFailed"
                     x:Uid="Available_Context_Delete_Fail"
                     Background="{ThemeResource SystemFillColorSolidNeutralBackground}"/>
            <InfoBar x:Name="RenameFailed"
                     x:Uid="Available_Context_Rename_Fail"
                     Background="{ThemeResource SystemFillColorSolidNeutralBackground}"/>
        </StackPanel>
        <controls:TextInputDialog x:Name="EnterNewName"/>
    </Grid>
</UserControl>
