<Window
    x:Class="OpenHeroSelectGUI.Main"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Closed="Window_Closed"
    Title="OpenHeroSelect GUI">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="120"/>
            <RowDefinition/>
        </Grid.RowDefinitions>
        <Image Source="/Assets/MM_Banner.png" Stretch="UniformToFill" HorizontalAlignment="Center" VerticalAlignment="Center" />
        <Grid x:Name="AppTitleBar" Margin="8" Height="28" VerticalAlignment="Top">
            <Image Source="/Assets/SHIELD_Logo_GUI.png"
                   HorizontalAlignment="Left" VerticalAlignment="Top"
                   Width="20" Height="20"/>
            <TextBlock x:Name="AppTitleTextBlock"
                       x:Uid="AppName"
                       TextWrapping="NoWrap"
                       Style="{ThemeResource CaptionTextBlockStyle}"
                       Margin="30 1 0 0"/>
        </Grid>
        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Bottom">
            <Button x:Name="BtnLoad" Content="Load Settings" Click="BtnLoad_Click" ToolTipService.ToolTip="Ctrl+O | Load settings and roster from a saved file">
                <Button.KeyboardAccelerators>
                    <KeyboardAccelerator Modifiers="Control" Key="O" />
                </Button.KeyboardAccelerators>
            </Button>
            <Button x:Name="BtnSave" Content="Save Roster" Click="BtnSave_Click" ToolTipService.ToolTip="S | Save the current roster with the current name">
                <Button.KeyboardAccelerators>
                    <KeyboardAccelerator Key="S" />
                </Button.KeyboardAccelerators>
            </Button>
            <Button x:Name="BtnSaveAs" Content="Save as..." Click="BtnSaveAs_Click" ToolTipService.ToolTip="Ctrl+S | Save the current roster and settings with a custom name">
                <Button.KeyboardAccelerators>
                    <KeyboardAccelerator Modifiers="Control" Key="S" />
                </Button.KeyboardAccelerators>
            </Button>
            <Button x:Name="BtnRun" Content="Run OHS" Click="BtnRun_Click" ToolTipService.ToolTip="Ctrl+R | Run OHS with the current settings - replaces OHS config">
                <Button.KeyboardAccelerators>
                    <KeyboardAccelerator Modifiers="Control" Key="R" />
                </Button.KeyboardAccelerators>
            </Button>
        </StackPanel>
        <NavigationView x:Name="NavView" Grid.Row="1"
                        ExpandedModeThresholdWidth="1220"
                        IsBackButtonVisible="Collapsed"
                        IsBackEnabled="False"
                        Loaded="NavView_Loaded"
                        OpenPaneLength="160"
                        PaneDisplayMode="Auto"
                        SelectionChanged="NavView_SelectionChanged">
            <NavigationView.MenuItems>
                <NavigationViewItem x:Name="NavItem_MUA" x:Uid="Tab_MUA" IsExpanded="True" ToolTipService.ToolTip="Marvel Ultimate Alliance" Tag="OpenHeroSelectGUI.Tab_MUA">
                    <NavigationViewItem.Icon>
                        <PathIcon Data="{StaticResource MUAIcon}"/>
                    </NavigationViewItem.Icon>
                    <NavigationViewItem.MenuItems>
                        <NavigationViewItem x:Name="NavItem_SkinEditor_MUA" x:Uid="Tab_SkinEditor" ToolTipService.ToolTip="Herostat Skin Editor for Marvel Ultimate Alliance" Tag="OpenHeroSelectGUI.Tab_SkinEditor">
                            <NavigationViewItem.Icon>
                                <PathIcon Data="{StaticResource SEIcon}"/>
                            </NavigationViewItem.Icon>
                        </NavigationViewItem>
                        <NavigationViewItem x:Name="NavItem_Teams_MUA" x:Uid="Tab_Teams" ToolTipService.ToolTip="Team Bonus Editor for Marvel Ultimate Alliance" Tag="OpenHeroSelectGUI.Tab_Teams">
                            <NavigationViewItem.Icon>
                                <PathIcon Data="{StaticResource TEIcon}"/>
                            </NavigationViewItem.Icon>
                        </NavigationViewItem>
                        <NavigationViewItem x:Name="NavItem_XVoice_MUA" x:Uid="Tab_XVoice" ToolTipService.ToolTip="X_voice Editor for Marvel Ultimate Alliance" Tag="OpenHeroSelectGUI.Tab_XVoice">
                            <NavigationViewItem.Icon>
                                <FontIcon Glyph="&#xED15;"/>
                            </NavigationViewItem.Icon>
                        </NavigationViewItem>
                        <NavigationViewItem x:Name="NavItem_Settings_MUA" x:Uid="Tab_Settings" Icon="Setting" ToolTipService.ToolTip="Settings for Marvel Ultimate Alliance" Tag="OpenHeroSelectGUI.Tab_Settings"/>
                    </NavigationViewItem.MenuItems>
                </NavigationViewItem>
                <NavigationViewItem x:Name="NavItem_XML2" x:Uid="Tab_XML2" IsExpanded="True" ToolTipService.ToolTip="X-Men Legends 2" Tag="OpenHeroSelectGUI.Tab_XML2">
                    <NavigationViewItem.Icon>
                        <PathIcon Data="{StaticResource XML2Icon}"/>
                    </NavigationViewItem.Icon>
                    <NavigationViewItem.MenuItems>
                        <NavigationViewItem x:Name="NavItem_SkinEditor_XML2" x:Uid="Tab_SkinEditor" ToolTipService.ToolTip="Herostat Skin Editor for X-Men Legends 2" Tag="OpenHeroSelectGUI.Tab_SkinEditor">
                            <NavigationViewItem.Icon>
                                <PathIcon Data="{StaticResource SEIcon}"/>
                            </NavigationViewItem.Icon>
                        </NavigationViewItem>
                        <NavigationViewItem x:Name="NavItem_Teams_XML2" x:Uid="Tab_Teams" ToolTipService.ToolTip="Team Bonus Editor for X-Men Legends 2" Tag="OpenHeroSelectGUI.Tab_Teams">
                            <NavigationViewItem.Icon>
                                <PathIcon Data="{StaticResource TEIcon}"/>
                            </NavigationViewItem.Icon>
                        </NavigationViewItem>
                        <NavigationViewItem x:Name="NavItem_XVoice_XML2" x:Uid="Tab_XVoice" ToolTipService.ToolTip="X_voice Editor for X-Men Legends 2" Tag="OpenHeroSelectGUI.Tab_XVoice">
                            <NavigationViewItem.Icon>
                                <FontIcon Glyph="&#xED15;"/>
                            </NavigationViewItem.Icon>
                        </NavigationViewItem>
                        <NavigationViewItem x:Name="NavItem_Settings_XML2" x:Uid="Tab_Settings" Icon="Setting" ToolTipService.ToolTip="Settings for X-Men Legends 2" Tag="OpenHeroSelectGUI.Tab_Settings"/>
                    </NavigationViewItem.MenuItems>
                </NavigationViewItem>
            </NavigationView.MenuItems>
            <NavigationView.FooterMenuItems>
                <NavigationViewItem x:Name="NavItem_Info" x:Uid="Tab_Info" Tag="OpenHeroSelectGUI.Tab_Info">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE946;"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
            </NavigationView.FooterMenuItems>
            <Frame x:Name="ContentFrame" />
        </NavigationView>
        <StackPanel Grid.Row="1" Margin="68 0 20 20" Spacing="2" VerticalAlignment="Bottom">
            <InfoBar x:Name="SaveError"
                     Severity="Error"
                     Title="Error"
                     Message="Failed to save all settings."/>
            <InfoBar x:Name="OHSWarning"
                     Severity="Warning"
                     Title="Warning"/>
            <InfoBar x:Name="FileWarning"
                     Severity="Warning"
                     Title="Warning"
                     Message="Failed to copy team bonus. Team bonuses were not updated."/>
            <InfoBar x:Name="OHSSuccess"
                     Severity="Success"
                     Title="Success"
                     Message="Herostat and associated files have been successfully updated."/>
            <InfoBar x:Name="SaveBackup"
                     Title="Note"
                     Message="Failed to backup the saves."
                     Background="{ThemeResource SystemFillColorSolidNeutralBackground}"/>
            <InfoBar x:Name="MissingNewGame"
                     Severity="Warning"
                     Title="Unlock Problem"
                     Message="The Game or Mod Path is missing new_game.py. Unlocks will probably not work. Use the Patch Herostat Mod tool in MO2, to fix the problem.">
                <InfoBar.ActionButton>
                    <HyperlinkButton Content="More information" NavigateUri="https://github.com/ak2yny/OpenHeroSelectGUI/wiki/Troubleshooting#some-characters-that-i-unlocked-in-the-gui-are-locked-in-the-game"/>
                </InfoBar.ActionButton>
            </InfoBar>
            <InfoBar x:Name="OHSRunning"
                     Title="OHS is Running"
                     Message="Wait for the files to be updated."
                     IsClosable="False"
                     Background="{ThemeResource SystemFillColorSolidNeutralBackground}">
                <InfoBar.Content>
                    <ProgressBar IsIndeterminate="True" Margin="0 0 50 10"/>
                </InfoBar.Content>
            </InfoBar>
        </StackPanel>
    </Grid>
</Window>
